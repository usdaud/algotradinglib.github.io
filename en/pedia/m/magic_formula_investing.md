# Magic Formula Investing

Magic Formula [Investing](../i/investing.md) is an [investment strategy](../i/investment_strategy.md) which advocates simplified, systematic stock selection that promises sound returns. Developed by Joel Greenblatt, a renowned [investor](../i/investor.md) and founder of Gotham [Asset Management](../a/asset_management.md), the strategy is outlined in his book “The Little Book That Still Beats the [Market](../m/market.md).” Magic Formula [Investing](../i/investing.md) leverages financial metrics to rank [stocks](../s/stock.md) and build a diversified portfolio, aiming for high returns with minimal effort.

## Principles of Magic Formula Investing

The core principle of Magic Formula [Investing](../i/investing.md) relies on two main financial metrics: [Earnings Yield](../e/earnings_yield.md) and [Return](../r/return.md) on [Capital](../c/capital.md) (ROC). Let's break down each component:

### Earnings Yield

[Earnings Yield](../e/earnings_yield.md) measures the relationship between a company's [earnings](../e/earnings.md) and its [market](../m/market.md) [valuation](../v/valuation.md), expressed as the inverse of the Price-to-[Earnings](../e/earnings.md) (P/E) ratio. It offers a gauge of how much [profit](../p/profit.md) a company generates per dollar invested. The formula for [Earnings Yield](../e/earnings_yield.md) is:

\[ \text{[Earnings Yield](../e/earnings_yield.md)} = \frac{EBIT}{Enterprise [Value](../v/value.md)} \]

Where:
- EBIT stands for [Earnings](../e/earnings.md) Before [Interest](../i/interest.md) and [Taxes](../t/taxes.md), reflecting [earnings](../e/earnings.md) before the influence of [interest](../i/interest.md) expenses and [taxes](../t/taxes.md).
- Enterprise [Value](../v/value.md) (EV) represents the [market value](../m/market_value.md) of the entire [business](../b/business.md), calculated as [market capitalization](../m/market_capitalization.md) plus [debt](../d/debt.md) minus cash.

### Return on Capital (ROC)

[Return](../r/return.md) on [Capital](../c/capital.md) measures the [efficiency](../e/efficiency.md) with which a company generates profits from its [capital](../c/capital.md), reflecting how well the company utilizes its operations to create [value](../v/value.md) for shareholders. The formula for ROC is:

\[ \text{ROC} = \frac{EBIT}{Net Working [Capital](../c/capital.md) + Net Fixed Assets} \]

Where:
- Net Working [Capital](../c/capital.md) includes a company's short-term assets minus short-term liabilities.
- Net Fixed Assets represent the [long-term assets](../l/long-term_assets.md) required for operations, like property, plant, and equipment.

Greenblatt's Magic Formula ranks companies based on these two metrics, prioritizing those with high [Earnings Yield](../e/earnings_yield.md) and high [Return](../r/return.md) on [Capital](../c/capital.md).

## Steps to Implement Magic Formula Investing

Implementing Magic Formula [Investing](../i/investing.md) involves a systematic approach:

### 1. Establishing the Universe of Stocks

First, determine the universe of [stocks](../s/stock.md) to consider. A typical screening might include:
- Companies with a [market capitalization](../m/market_capitalization.md) above a certain threshold (e.g., over $100 million).
- Publicly traded companies [listed](../l/listed.md) on major exchanges.
- Exclusion of financials and utilities, as their financial structures could complicate the calculation.

### 2. Calculate Earnings Yield and Return on Capital

For each stock in the universe, calculate both the [Earnings Yield](../e/earnings_yield.md) and [Return](../r/return.md) on [Capital](../c/capital.md):

- Calculate EBIT from the company's [income statement](../i/income_statement.md).
- Determine Enterprise [Value](../v/value.md) using the latest [market](../m/market.md) data.
- Compute Net Working [Capital](../c/capital.md) and Net Fixed Assets from the [balance sheet](../b/balance_sheet.md).

### 3. Rank Stocks

Rank all companies based on their [Earnings Yield](../e/earnings_yield.md) and [Return](../r/return.md) on [Capital](../c/capital.md) separately and then combine the rankings to form a composite score. The companies with the best composite scores become the most attractive investments.

### 4. Create the Portfolio

Form a diversified portfolio by selecting the top-ranked [stocks](../s/stock.md) (typically 20-30).

### 5. Hold and Rebalance

[Hold](../h/hold.md) the selected [stocks](../s/stock.md) for a year, then review and rebalance the portfolio annually based on updated rankings.

## Example of Magic Formula Investing in Action

Let’s consider an example to visualize the theoretical application of Magic Formula [Investing](../i/investing.md). Assume a simplified [market](../m/market.md) with five [stocks](../s/stock.md):

| Stock | EBIT | Enterprise [Value](../v/value.md) (EV) | [Return](../r/return.md) on [Capital](../c/capital.md) | Composite Rank |
|-------|------|-----------------------|--------------------|----------------|
| A | 200 | 2000 | 0.1 | 2 |
| B | 300 | 6000 | 0.05 | 5 |
| C | 150 | 1000 | 0.15 | 1 |
| D | 220 | 2500 | 0.088 | 3 |
| E | 180 | 2200 | 0.082 | 4 |

Ranked by combined [Earnings Yield](../e/earnings_yield.md) and ROC, [stocks](../s/stock.md) C, A, and D make it to the top. These would be the [stocks](../s/stock.md) to be included in the portfolio.

## Historical Performance of Magic Formula Investing

According to studies and Greenblatt’s own observations, Magic Formula [Investing](../i/investing.md) has exhibited strong historical performance, often beating [market](../m/market.md) benchmarks over long periods. However, like any strategy, it may [underperform](../u/underperform.md) in certain [market](../m/market.md) conditions. Historical [backtesting](../b/backtesting.md) of the strategy, spanning several decades, has revealed average annual returns often surpassing 10-15%, far outpacing typical indices.

## Criticisms and Challenges

Magic Formula [Investing](../i/investing.md), while simple and historically effective, is not without criticisms and challenges:

### Market Efficiency

Critics argue that markets are generally efficient, meaning consistent outperformance might not be sustainable over time. As more investors adopt similar strategies, the potential for excess returns could diminish.

### Behavioral Biases

Investors might struggle with the discipline required for a systematic strategy, abandoning it during periods of underperformance. Sticking to the formula during downturns can be psychologically challenging.

### Data Accuracy

The accuracy of financial data (EBIT, Enterprise [Value](../v/value.md), etc.) is crucial. Discrepancies or outdated information can skew rankings and compromise the strategy’s effectiveness.

### Impact Costs

Implementing the strategy across a diversified set of [stocks](../s/stock.md) may incur significant [trading costs](../t/trading_costs.md), especially in less [liquid](../l/liquid.md) markets. These costs can eat into the excess returns.

## Automating Magic Formula Investing

With technological advancements, automating Magic Formula [Investing](../i/investing.md) has become feasible. [Algorithmic trading](../a/algorithmic_trading.md) systems can streamline the formula’s implementation, minimizing manual labor and potential errors. Here's how:

### 1. Data Integration

Integrate real-time financial data from reliable sources (e.g., [Bloomberg](../b/bloomberg.md), [Yahoo Finance](../y/yahoo_finance.md)).

### 2. Calculation Algorithms

Develop algorithms to calculate [Earnings Yield](../e/earnings_yield.md) and ROC automatically.

### 3. Stock Ranking

Automate the ranking process, updating scores based on the latest financial data.

### 4. Portfolio Management

Implement rules for portfolio selection, [rebalancing](../r/rebalancing.md), and [risk management](../r/risk_management.md). Consider trading platforms like [Interactive Brokers](../i/interactive_brokers.md) to automate buying and selling.

### Case Study: Quantopian

Quantopian, before its closure, was a platform allowing individuals to automate and backtest [trading strategies](../t/trading_strategies.md), including Magic Formula [Investing](../i/investing.md). Tools like these, despite their end, underscore the feasibility of automated [investing](../i/investing.md) strategies.

Quantopian's Legacy

## Conclusion

Magic Formula [Investing](../i/investing.md), with its foundation on [robust](../r/robust.md) financial metrics, offers a systematic approach to stock selection, aiming to provide high returns with reduced complexity. Despite its simplicity, the strategy requires discipline and careful consideration of [market](../m/market.md) conditions, [trading costs](../t/trading_costs.md), and data accuracy. Automatization provides a promising avenue, leveraging modern technology to streamline [execution](../e/execution.md) and maintain rigor in following the strategy.

For those interested in dual assurances of mathematical soundness and systematic [execution](../e/execution.md), Magic Formula [Investing](../i/investing.md) serves as an attractive, historically proven methodology worth considering in a diverse investment framework.