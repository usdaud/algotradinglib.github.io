# Числа и линии Фибоначчи

## Введение

Числа и линии Фибоначчи — это математические инструменты, широко используемые в различных областях, включая алгоритмическую торговлю. Названные в честь итальянского математика Леонардо Пизанского, известного как Фибоначчи, эти числа и линии основаны на последовательности, описанной в его книге 1202 года «Liber Abaci». Эта последовательность и связанные с ней коэффициенты находят применение от природы до финансовых рынков, где они используются для прогнозирования потенциальных уровней поддержки, сопротивления и ценового действия.

## Последовательность Фибоначчи

Последовательность Фибоначчи — это ряд чисел, где каждое число является суммой двух предыдущих, начиная с 0 и 1. Последовательность выглядит следующим образом:

0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144,...

Математически это выражается как:
F(n) = F(n-1) + F(n-2)

для n >= 2 с начальными условиями:
F(0) = 0, F(1) = 1

Эти числа обладают уникальными свойствами, и коэффициенты, полученные из этой последовательности, составляют основу уровней коррекции и расширения Фибоначчи, используемых в торговле.

## Коэффициенты Фибоначчи

Из последовательности Фибоначчи выводятся коэффициенты, часто называемые уровнями коррекции Фибоначчи, которые используются для определения потенциальных уровней разворота на финансовых рынках. Основные коэффициенты:
- 23,6%
- 38,2%
- 50% (не коэффициент Фибоначчи, но широко используется)
- 61,8%
- 78,6%

Эти коэффициенты, за исключением 50%, связаны напрямую или косвенно с золотым сечением (φ), приблизительно равным 1,618. Это золотое сечение широко наблюдается в природных закономерностях и рыночных движениях.

## Применение в алгоритмической торговле

В алгоритмической торговле уровни коррекции и расширения Фибоначчи используются для разработки торговых стратегий, включаемых в автоматизированные торговые системы. Эти инструменты помогают определить ключевые уровни для входа и выхода из сделок на основе прогнозируемых уровней поддержки и сопротивления.

### Коррекция Фибоначчи

Коррекция Фибоначчи — это метод определения потенциальных уровней поддержки и сопротивления путем измерения расстояния между значимым максимумом и минимумом на графике. Трейдеры обычно выполняют следующие шаги:
1. Определяют значимые максимум и минимум.
2. Рассчитывают и наносят уровни коррекции с использованием коэффициентов Фибоначчи.

Эти уровни указывают, где ценовые коррекции потенциально могут развернуться. Алгоритмические трейдеры используют эти уровни как часть своих сигналов входа или выхода.

### Расширение Фибоначчи

В отличие от уровней коррекции, уровни расширения Фибоначчи используются для определения потенциальных будущих ценовых целей после того, как ценовое действие возобновило исходный тренд после коррекции. Распространенные уровни расширения включают 100%, 161,8% и 261,8%.

Алгоритмические стратегии, включающие эти уровни, могут устанавливать цели по прибыли на этих расширениях, активируя автоматические действия продажи или покупки.

### Практический пример

Например, в нисходящем тренде, если цена актива начинает корректироваться вверх:
1. Определите максимум и минимум недавнего значительного движения вниз.
2. Примените инструмент коррекции Фибоначчи от максимума к минимуму.
3. Отслеживайте поведение актива вокруг уровней коррекции 23,6%, 38,2%, 50% и 61,8%.

## Включение в торговые алгоритмы

Торговые алгоритмы, включающие анализ Фибоначчи, могут:
- Определять смену направления тренда путем обнаружения ценовых отскоков или пробоев от уровней Фибоначчи.
- Комбинировать несколько индикаторов, таких как скользящие средние, RSI (индекс относительной силы) или MACD (схождение-расхождение скользящих средних), с уровнями Фибоначчи для уточнения сигналов.
- Автоматизировать точки входа и выхода на основе уровней коррекции и расширения Фибоначчи.

## Пример алгоритмической реализации

Вот упрощенный пример псевдокода, демонстрирующий, как коррекция Фибоначчи может быть включена в стратегию алгоритмической торговли:

```python
def calculate_fibonacci_levels(high, low):
    difference = high - low
    fibonacci_levels = [high - difference * level for level in [0.236, 0.382, 0.5, 0.618, 0.786]]
    return fibonacci_levels

def trading_strategy(current_price, high, low):
    fibonacci_levels = calculate_fibonacci_levels(high, low)

    for level in fibonacci_levels:
        if current_price <= level:
            trigger_buy_signal()
            break
        elif current_price >= high:
            trigger_sell_signal()
            break

# Предположим, что эти цены получены из исторических данных
high_price = 100
low_price = 80
current_market_price = 90

trading_strategy(current_market_price, high_price, low_price)
```

## Использование в реальной практике

Несколько компаний и торговых платформ предлагают инструменты и доступ к API для включения анализа Фибоначчи в торговые алгоритмы. Примеры включают:

- **MetaTrader 4/5** от MetaQuotes:
  Платформы MetaTrader предлагают встроенные инструменты для применения уровней коррекции и расширения Фибоначчи к графикам. Это можно использовать напрямую или включить в советников (EA) для алгоритмической торговли.

- **TradingView**:
  TradingView предоставляет углубленные инструменты построения графиков и скриптовые языки, такие как Pine Script, которые позволяют трейдерам реализовывать и тестировать свои стратегии с использованием уровней Фибоначчи.

- **StockSharp**:
  StockSharp предоставляет инфраструктуру для алгоритмической торговли и поддерживает разработку стратегий на C#. Он предлагает возможность реализации пользовательских индикаторов на основе Фибоначчи.

## Заключение

Числа и линии Фибоначчи являются необходимыми инструментами в алгоритмической торговле. Понимание того, как рассчитывать и использовать эти уровни, может улучшить торговые стратегии путем прогнозирования потенциальных уровней поддержки и сопротивления. Независимо от того, используются ли они самостоятельно или в сочетании с другими аналитическими инструментами, анализ Фибоначчи обеспечивает надежную основу для алгоритмических трейдеров, стремящихся оптимизировать свои автоматизированные торговые системы.
