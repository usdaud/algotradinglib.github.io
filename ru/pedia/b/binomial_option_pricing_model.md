# Биномиальная модель ценообразования опционов

Модель ценообразования биномиальных опционов — это мощный и универсальный инструмент, используемый для оценки опционов, особенно американских опционов, которые можно исполнить в любой момент до даты истечения срока действия. Эта модель, разработанная в 1979 году Джоном Коксом, Стивеном Россом и Марком Рубинштейном, представляет собой систематический метод определения справедливой стоимости опциона путем моделирования различных путей, по которым цена базового актива может меняться с течением времени.

## Фундаментальные понятия

### Опционы

Опционы — это производные финансовые инструменты, которые дают держателю право, но не обязанность купить или продать актив по заранее определенной цене до или в определенную дату. Два основных типа опционов:

- **Опционы колл:** предоставляют право на покупку базового актива.
- **Пут-опционы**: предоставляют право продать базовый актив.

### Американские и европейские опционы

- **Американские опционы:** Могут быть исполнены в любое время до даты истечения срока действия.
- **Европейские опционы:** Могут быть исполнены только на дату истечения срока действия.

### Биномиальное дерево

Биномиальная модель ценообразования опционов использует модель дискретного времени изменяющейся цены базового актива. Он создает биномиальное дерево, представляющее различные возможные пути изменения цены актива в течение срока действия опциона. Каждый узел в дереве представляет возможную цену базового актива в определенный момент времени, и эти узлы соединены ветвями, представляющими возможные движения цены вверх или вниз.

## Шаги модели ценообразования биномиальных опционов

Модель реализуется посредством пошагового процесса:

### 1. Настройка параметров

- **Начальная цена актива (S₀):** Текущая цена базового актива.
- **Цена исполнения (K):** Цена, по которой опцион может быть исполнен.
- **Время до истечения срока действия (T):** Продолжительность в годах до истечения срока действия опциона.
- **Количество временных шагов (N):** На сколько шагов (интервалов) делится время до истечения срока действия.
- **Волатильность (σ):** Стандартное отклонение доходности базового актива.
- **Безрисковая ставка (r):** Непрерывная сложная безрисковая процентная ставка.

### 2. Расчет размера шага

Временной шаг (\( \Delta t \)) рассчитывается как:

\[ \Delta t = \frac{T}{N} \]

### 3. Расчет повышающих и понижающих коэффициентов

Коэффициент повышения (u) и коэффициент понижения (d) представляют собой размер движения цены вверх и вниз за один временной шаг. Они рассчитываются с использованием волатильности актива (\( \sigma \)) и временного шага (\( \Delta t \)):

\[ u = e^{\sigma\sqrt{\Delta t}} \] \[ d = e^{-\sigma\sqrt{\Delta t}} \]

### 4. Расчет нейтральных к риску вероятностей

Нейтральные к риску вероятности (p и q) обозначают вероятности движений вверх и вниз в нейтральном к риску мире. Они рассчитываются с использованием коэффициента повышения (u), коэффициента понижения (d) и безрисковой ставки (r):

\[ p = \frac{e^{r\Delta t} - d}{u - d} \] \[ q = 1 - p \]

### 5. Построение биномиального дерева

Начиная с начальной цены (S₀), дерево строится по формуле умножая цену в каждом узле на коэффициент повышения (u) и коэффициент снижения (d).

### 6. Расчет стоимости опциона в конечных узлах

По истечении срока действия (конечные узлы дерева) рассчитывается внутренняя стоимость опциона:

- **Вызов опциона:** \( \max(S_T - K, 0) \)
- **Опцион пут:** \( \max(K - S_T, 0) \)

### 7. Дисконтирование обратно к приведенной стоимости

Затем значения опционов дисконтируются обратно по дереву до приведенной стоимости с использованием нейтральных к риску вероятностей (p и q) и безрисковой ставки (r). Значение в каждом узле рассчитывается как:

\[ V = e^{-r\Delta t} (p V_u + q V_d) \]

где \( V_u \) и \( V_d \) — значения опций в восходящем и нисходящем узлах следующего временного шага соответственно.

### 8. Корректировка на раннее исполнение (для американских опционов)

Для американских опционов возможность досрочного исполнения проверяется на каждом узле путем сравнения дисконтированной стоимости опциона с внутренней стоимостью. Если раннее исполнение дает более высокую ценность, оно принимается.

## Пример расчета

Давайте рассмотрим пример, чтобы увидеть, как модель ценообразования биномиальных опционов будет работать на практике:

### Параметры

- Начальная цена актива (S₀): 100 долларов США
- Цена исполнения (K): 100 долларов США
- Время до истечения срока действия (T): 1 год
- Количество шагов (N): 3
- Волатильность (σ): 30 % (0,30)
- Безрисковая ставка (r): 5 % (0,05)

### Шаг 1. Вычислите временной шаг

\[ \Delta t = \frac{1}{3} = 0,3333 \text{ годы} \]

### Шаг 2. Вычислите повышающие и понижающие коэффициенты

\[ u = e^{0,30 \sqrt{0,3333}} = 1,1832 \] \[ d = e^{-0,30 \sqrt{0,3333}} = 0,8453 \]

### Шаг 3. Вычисление нейтральных к риску вероятностей

\[ p = \frac{e^{0.05 \cdot 0,3333} - 0,8453}{1,1832 - 0,8453} = 0,5223 \] \[ q = 1 - 0,5223 = 0,4777 \]

### Шаг 4. Построение биномиального дерева

#### Цены узлов

- \( S(0,0) = 100 \)
- \( S(1,1) = 100 \cdot 1.1832 = 118.32 \)
- \( S(1,0) = 100 \cdot 0.8453 = 84.53 \)
- \( S(2,2) = 118.32 \cdot 1.1832 = 140.03 \)
- \( S(2,1) = 100 \cdot 1.1832 \cdot 0.8453 = 100 \)
- \( S(2,0) = 84.53 \cdot 0.8453 = 71.45 \)
- \( S(3,3) = 140.03 \cdot 1.1832 = 165.79 \)
- \( S(3,2) = 100 \cdot (1.1832)^2 \cdot (0.8453) = 118.32 \)
- \( S(3,1) = 100 \cdot 1.1832 \cdot (0.8453)^2 = 84.53 \)
- \( S(3,0) = 71.45 \cdot 0.8453 = 60.37 \)

#### Значения опций на конечных узлах

- Для опции вызова: \( \max(S_T - K, 0) \)
- \( V(3,3) = \max(165.79 - 100, 0) = 65.79 \)
- \( V(3,2) = \max(118.32 - 100, 0) = 18.32 \)
- \( V(3,1) = \max(84.53 - 100, 0) = 0 \)
- \( V(3,0) = \max(60.37 - 100, 0) = 0 \)

### Шаг 5: Скидка обратно к текущему значению

- Для узла \( (2,2) \):
 \[ V(2,2) = e^{-0.05 \cdot 0.3333} (0.5223 \cdot 65.79 + 0.4777 \cdot 18.32) = 42.41 \]
- Для узла \( (2,1) \):
 \[ V(2,1) = e^{-0.05 \cdot 0.3333} (0.5223 \cdot 18.32 + 0.4777 \cdot 0) = 9.23 \]
- Для узла \( (2,0) \):
 \[ V(2,0) = e^{-0.05 \cdot 0.3333} (0.5223 \cdot 0 + 0.4777 \cdot 0) = 0 \]

Продолжайте дисконтировать обратно до сегодняшнего значения для узлов (1,1), (1,0) и, наконец, (0,0).

### Шаг 6: Корректировка на раннее исполнение

Для американских опционов вы проверяете каждый узел, чтобы увидеть, является ли раннее исполнение выгодным. Если да, то значение в узле корректируется, чтобы отразить эту возможность.

### Окончательная цена опциона

После дисконтирования всех временных шагов и учета возможного раннего исполнения рассчитанное значение в начальном узле \( (0,0) \) даст цену опциона.

## Преимущества биномиальной модели

1. **Гибкость:** Можно оценить американские опционы, допускающие досрочное исполнение.
2. **Точность:** Обеспечивает более точную оценку за счет рассмотрения различных путей и сценариев.
3. **Простота.** Легче реализовать по сравнению с другими сложными моделями, такими как моделирование Монте-Карло.

## Ограничения

1. **Интенсивность вычислений.** Большое количество временных шагов может привести к большим вычислительным затратам.
2. **Предположение о постоянной волатильности.** Реальная волатильность может меняться со временем.

## Практическое применение

Модель ценообразования биномиальных опционов широко используется в финансовых учреждениях для ценообразования и управления продуктами, связанными с опционами. Гибкость и адаптивность делают ее жизненно важным инструментом в следующих областях:

1. **Управление рисками:** Банки и финансовые учреждения используют эту модель для хеджирования рисков, связанных с опционами и другими производными инструментами.
2. **Опционы на акции для сотрудников:** Компании используют эту модель для оценки опционов на акции для сотрудников для целей финансовой отчетности.
3. **Корпоративные финансы:** используется для оценки встроенных опционов в корпоративный долг и другие ценные бумаги.

### Примеры компаний, использующих биномиальную модель

- **Goldman Sachs:** Goldman Sachs использует передовые финансовые модели, включая биномиальные модели, для ценообразования активов и управления рисками.
- **Morgan Stanley:** Morgan Stanley использует биномиальную модель ценообразования опционов для оценки цен опционов и производных финансовых инструментов.

Биномиальная модель ценообразования опционов остается краеугольным камнем количественного финансирования, предлагая надежный метод оценки опционов, который сочетает в себе вычислительную осуществимость и точность ценообразования.
