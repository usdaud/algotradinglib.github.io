# Биномиальное ценообразование опционов

Модель биномиального ценообразования опционов — это популярный и универсальный метод, используемый для ценообразования опционов. Первоначально представленная Коксом, Россом и Рубинштейном в 1979 году, эта модель обеспечивает простой и интуитивно понятный подход к оценке опционов путем моделирования цены базового актива в течение ряда дискретных периодов времени или шагов.

## Ключевые понятия

### Основы опциона

Опцион — это производный финансовый инструмент, который предоставляет держателю право, но не обязательство, купить или продать актив по указанной цене (цене исполнения) в указанную дату (дату истечения срока действия) или раньше нее. Опционы бывают двух основных форм: колл и пут. Опцион колл дает держателю право купить, а опцион пут дает право продать. Опционы могут быть либо американскими (исполняемыми в любое время до истечения срока действия), либо европейскими (исполняемыми только по истечении срока действия).

### Базовые предположения

Биномиальная модель ценообразования опционов работает при нескольких ключевых предположениях:
1. Цена базового актива следует мультипликативному биномиальному процессу.
2. На каждом этапе цена актива может перейти на один из двух возможных уровней: вверх или вниз.
3. Движение вверх и вниз определяется конкретными факторами вверх и вниз.
4. Вероятность движения цены актива вверх или вниз постоянна на протяжении всего срока действия опциона.
5. Арбитражных возможностей нет.
6. Безрисковая процентная ставка постоянна и известна.

## Структура биномиальной модели

### Дискретные временные шаги

Модель делит время до истечения срока действия на N дискретных временных шагов. На каждом шаге цена актива может двигаться либо вверх в \( u \), либо вниз в \( d \ раз). Коэффициенты повышения и понижения рассчитываются на основе волатильности актива и длины временного шага.

### Расчет коэффициентов повышения и понижения

Коэффициенты повышения и понижения определяются следующим образом:

\[ u = e^{\sigma \sqrt{\Delta t}} \] \[ d = e^{-\sigma \sqrt{\Delta t}} \]

где:
- \( \sigma \) волатильность базового актива.
- \( \Delta t \) — длина каждого временного шага, обычно \( \frac{T}{N} \), где \( T \) — время до истечения срока действия, а \( N \) — количество шагов.

### Нейтральная к риску вероятность

Нейтральная к риску вероятность (\( p \)) помогает определить вероятность движения цены актива вверх по биномиальному дереву. Эта вероятность определяется таким образом, чтобы исключить возможности арбитража и гарантировать, что ожидаемая доходность актива соответствует безрисковой ставке. Она определяется следующим образом:

\[ p = \frac{e^{r \Delta t} - d}{u - d} \]

где:
- \( r \) — безрисковая процентная ставка.
- \( e^{r \Delta t} \) — коэффициент роста за один временной шаг по безрисковой ставке.

### Построение биномиального дерева

Биномиальное дерево состоит из узлов, представляющих возможные значения цены актива на каждом временном шаге. Цена базового актива в любом узле рассчитывается, начиная с начальной цены актива (\(S_0\)) и итеративно применяя повышающий или понижающий коэффициент.

Цена в узле \( (i, j) \) определяется по формуле:

\[ S_{ij} = S_0 \cdot u^j \cdot d^{(i-j)} \]

где \( i \) — шаг по времени, \( j \) — количество движений вверх.

### Оценка опциона

1. **Терминальные выплаты**: по истечении срока действия рассчитайте выигрыш по опциону в каждом терминальном узле. Для опциона колл это \( \max(S_T - K, 0) \); для опциона пут это \( \max(K - S_T, 0) \).
2. **Обратная индукция**: пройдитесь по дереву в обратном направлении, чтобы вычислить значение опциона в каждом предыдущем узле, используя нейтральные к риску вероятности. Стоимость опциона в каждом узле — это ожидаемая стоимость опциона со скидкой на ближайшем следующем шаге.

Значение в узле \( (i, j) \) равно:

\[ V_{ij} = e^{-r \Delta t} [p \cdot V_{i+1,j+1} + (1-p) \cdot V_{i+1,j}] \]

### Американские параметры

For Американские опционы в каждом узле сравнивают стоимость немедленного исполнения со стоимостью, полученной при удержании опциона (посредством обратной индукции). Значение в каждом узле является максимальным из двух.

## Практическая реализация

### Плюсы и минусы

**Преимущества**:
- Гибкость: поддерживает различные стили упражнений (американские, европейские).
- Интуитивно понятный: легко понять и реализовать.
- Универсальность: может включать дивиденды, различные процентные ставки и другие сложности.

**Недостатки**:
- Интенсивность вычислений: большое количество шагов увеличивает объем вычислений.
- Приближение: дискретная природа может быть менее точной, чем непрерывные модели.

### Программное обеспечение и библиотеки

Существует множество пакетов программного обеспечения и библиотек программирования для реализации модели ценообразования биномиальных опционов. Библиотеки Python, такие как `QuantLib`, и пакеты R, такие как `RQuantLib`, предоставляют готовые функции для упрощения реализации.

### Пример

Предположим, мы хотим оценить европейский опцион колл со следующими свойствами:
- Текущая цена акции (\( S_0 \)): $100
- Цена исполнения (\( K \)): $100
- Безрисковая ставка (\( r \)): 5%
- Волатильность (\( \sigma \)): 20%
- Срок действия (\( T \)): 1 год
- Количество шагов (\( N \)): 3

Сначала мы вычисляем повышающие и понижающие факторы и нейтральную к риску вероятность:

\[ \Delta t = \frac{1}{3} \] \[ u = e^{0.2 \sqrt{\frac{1}{3}}} \approx 1,1224 \] \[ d = e^{-0,2 \sqrt{\frac{1}{3}}} \approx 0,8912 \] \[ p = \frac{e^{0,05 \cdot \frac{1}{3}} - 0,8912}{1,1224 - 0,8912} \approx 0,5438 \]

Далее мы строим биномиальное дерево и вычисляем значения вариантов посредством обратной индукции.

## Заключение

Модель ценообразования биномиальных опционов — это фундаментальный инструмент для оценки опционов, предлагающий гибкость и простую для понимания структуру. Несмотря на то, что для больших размеров шагов требуется много вычислений, он по-прежнему широко используется и ценится за свою универсальность при обработке различных типов вариантов и основных предположений. Адаптивность и надежность модели обеспечивают ее постоянную актуальность в области финансов и количественного анализа.
