# Pivot Point Strategies

Стратегии Pivot Point — это широко используемый подход в алгоритмической торговле для идентификации потенциальных уровней поддержки и сопротивления на рынке. Эти стратегии вращаются вокруг расчета и использования Pivot Points, которые выводятся из максимума, минимума и цен закрытия предыдущего торгового дня. Pivot Points предоставляют трейдерам потенциальные точки входа и выхода для их сделок и особенно популярны среди дневных трейдеров и скальперов. Ниже представлено углубленное исследование стратегий Pivot Point, их расчета, внедрения и применения в алгоритмической торговле.

## Расчет Pivot Points

### Базовый Pivot Point (P)

Центральный Pivot Point (P) рассчитывается по следующей формуле:

\[ P = \frac{(High_{previous} + Low_{previous} + Close_{previous})}{3} \]

Где:
- \( High_{previous} \) — самая высокая цена предыдущего торгового дня.
- \( Low_{previous} \) — самая низкая цена предыдущего торгового дня.
- \( Close_{previous} \) — цена закрытия предыдущего торгового дня.

### Уровни поддержки и сопротивления

После определения центрального Pivot Point (P) дополнительные уровни поддержки и сопротивления могут быть рассчитаны следующим образом:

#### Первый уровень сопротивления (R1) и поддержки (S1)

\[ R1 = (2 \times P) - Low_{previous} \]
\[ S1 = (2 \times P) - High_{previous} \]

#### Второй уровень сопротивления (R2) и поддержки (S2)

\[ R2 = P + (High_{previous} - Low_{previous}) \]
\[ S2 = P - (High_{previous} - Low_{previous}) \]

#### Третий уровень сопротивления (R3) и поддержки (S3)

\[ R3 = High_{previous} + 2 \times (P - Low_{previous}) \]
\[ S3 = Low_{previous} - 2 \times (High_{previous} - P) \]

## Типы Pivot Points

### Стандартные Pivot Points
Стандартные Pivot Points, как описано выше, используют значения максимума, минимума и закрытия предыдущего торгового дня. Они являются наиболее часто используемым типом Pivot Points.

### Fibonacci Pivot Points
Fibonacci Pivot Points включают уровни коррекции и расширения Фибоначчи в расчет уровней поддержки и сопротивления:

#### Pivot Point (P)

\[ P = \frac{(High_{previous} + Low_{previous} + Close_{previous})}{3} \]

#### Уровни поддержки и сопротивления

\[ R1 = P + 0.382 \times (High_{previous} - Low_{previous}) \]
\[ R2 = P + 0.618 \times (High_{previous} - Low_{previous}) \]
\[ R3 = P + (High_{previous} - Low_{previous}) \]

\[ S1 = P - 0.382 \times (High_{previous} - Low_{previous}) \]
\[ S2 = P - 0.618 \times (High_{previous} - Low_{previous}) \]
\[ S3 = P - (High_{previous} - Low_{previous}) \]

### Woodie's Pivot Points
Woodie's Pivot Points придают больший вес цене закрытия предыдущего торгового периода:

#### Pivot Point (P)

\[ P = \frac{(High_{current} + Low_{current} + 2 \times Close_{previous})}{4} \]

#### Уровни поддержки и сопротивления

\[ R1 = 2 \times P - Low_{current} \]
\[ S1 = 2 \times P - High_{current} \]
\[ R2 = P + (High_{current} - Low_{current}) \]
\[ S2 = P - (High_{current} - Low_{current}) \]

### Camarilla Pivot Points
Camarilla Pivot Points были разработаны Ником Стоттом в конце 1980-х годов и используют цены закрытия и серию множителей для расчета уровней поддержки и сопротивления:

\[ R1 = Close_{previous} + (High_{previous} - Low_{previous}) \times 1.1 \times \frac{1}{20} \]
\[ R2 = Close_{previous} + (High_{previous} - Low_{previous}) \times 1.1 \times \frac{2}{20} \]
\[ R3 = Close_{previous} + (High_{previous} - Low_{previous}) \times 1.1 \times \frac{3}{20} \]
\[ R4 = Close_{previous} + (High_{previous} - Low_{previous}) \times 1.1 \times \frac{4}{20} \]

\[ S1 = Close_{previous} - (High_{previous} - Low_{previous}) \times 1.1 \times \frac{1}{20} \]
\[ S2 = Close_{previous} - (High_{previous} - Low_{previous}) \times 1.1 \times \frac{2}{20} \]
\[ S3 = Close_{previous} - (High_{previous} - Low_{previous}) \times 1.1 \times \frac{3}{20} \]
\[ S4 = Close_{previous} - (High_{previous} - Low_{previous}) \times 1.1 \times \frac{4}{20} \]

### DeMark's Pivot Points
DeMark's Pivot Points, названные в честь Тома ДеМарка, используют другой подход к расчету центральных Pivot Points:

#### Определение значения X на основе Close

\[ X = \begin{cases}
High_{previous} + Low_{previous} + 2 \times Close_{previous}, & \text{если Close_{previous} < Open_{previous}} \\
High_{previous} + 2 \times Low_{previous} + Close_{previous}, & \text{если Close_{previous} > Open_{previous}} \\
2 \times (High_{previous} + Low_{previous}), & \text{если Close_{previous} = Open_{previous}}
\end{cases}
\]

#### Центральный Pivot Point (P)

\[ P = X / 4 \]

#### Уровни поддержки и сопротивления

\[ R1 = X / 2 - Low_{previous} \]
\[ S1 = X / 2 - High_{previous} \]

## Внедрение стратегий Pivot Point в алгоритмической торговле

### Стратегия торговли на развороте

Одна из наиболее распространенных стратегий с использованием Pivot Points — это стратегия торговли на развороте. Эта стратегия включает открытие покупательных или продажных позиций, когда цена разворачивается на ключевых уровнях Pivot Point.

- **Сигнал покупки**: Когда цена падает до уровня поддержки (S1, S2 или S3) и показывает признаки разворота, генерируется сигнал покупки.
- **Сигнал продажи**: Когда цена поднимается до уровня сопротивления (R1, R2 или R3) и показывает признаки разворота, генерируется сигнал продажи.

### Стратегия торговли на прорыве

В стратегии торговли на прорыве трейдеры ищут прорывы цены через ключевые уровни Pivot Point с существенным объемом, указывая на потенциал продолжения движения в направлении прорыва.

- **Сигнал покупки**: Когда цена прорывает уровень сопротивления (R1, R2 или R3) с увеличенным объемом, генерируется сигнал покупки.
- **Сигнал продажи**: Когда цена прорывает уровень поддержки (S1, S2 или S3) с увеличенным объемом, генерируется сигнал продажи.

### Стратегия торговли в диапазоне

Для рынков, которые имеют тенденцию торговаться в узких диапазонах, стратегия торговли в диапазоне включает покупку на уровнях поддержки и продажу на уровнях сопротивления.

- **Сигнал покупки**: Когда цена достигает уровня поддержки и движется в сторону, потенциал для торговли в диапазоне.
- **Сигнал продажи**: Когда цена достигает уровня сопротивления и движется в сторону, потенциал для торговли в диапазоне.

### Комбинирование Pivot Points с другими индикаторами

Комбинирование Pivot Points с другими техническими индикаторами может повысить эффективность торговых стратегий. Обычно комбинируемые индикаторы включают:

- **Скользящие средние**: Для подтверждения направления тренда, когда достигается уровень Pivot Point.
- **Индекс относительной силы (RSI)**: Для идентификации перекупленных или перепроданных условий на уровнях Pivot Point.
- **MACD (схождение-расхождение скользящих средних)**: Для подтверждения импульса на уровнях Pivot Point.

## Пример алгоритма с использованием Pivot Points

Ниже приведен базовый пример алгоритма Python, использующего Pivot Points и библиотеки `pandas` и `numpy`:

```python
import pandas as pd
import numpy as np

def calculate_pivot_points(df):
    df['P'] = (df['High'] + df['Low'] + df['Close']) / 3
    df['R1'] = (2 * df['P']) - df['Low']
    df['S1'] = (2 * df['P']) - df['High']
    df['R2'] = df['P'] + (df['High'] - df['Low'])
    df['S2'] = df['P'] - (df['High'] - df['Low'])
    df['R3'] = df['High'] + 2 * (df['P'] - df['Low'])
    df['S3'] = df['Low'] - 2 * (df['High'] - df['P'])
    return df

def trading_signal(df):
    conditions = [
        (df['Close'] < df['S1']),
        (df['Close'] > df['R1'])
    ]
    choices = ['Sell', 'Buy']
    df['Signal'] = np.select(conditions, choices, default='Hold')
    return df

# Пример DataFrame
data = {
    'Date': pd.date_range(start='2023-01-01', periods=5, freq='D'),
    'High': [150, 155, 160, 165, 170],
    'Low': [140, 142, 145, 148, 150],
    'Close': [147, 150, 155, 160, 165]
}
df = pd.DataFrame(data)
df = calculate_pivot_points(df)
df = trading_signal(df)

print(df)
```

## Популярные инструменты и платформы для стратегий Pivot Point

Многие торговые платформы и инструменты предоставляют встроенные возможности для расчета и использования Pivot Points в торговых стратегиях. Некоторые из этих платформ включают:

- **MetaTrader 4 и 5 (MT4/MT5)**: Широко используемые торговые платформы, которые содержат индикаторы Pivot Point и позволяют разрабатывать пользовательские алгоритмы с использованием MetaQuotes Language (MQL4/MQL5).
- **NinjaTrader**: Предлагает расширенные возможности построения графиков и бэктестинга, включая инструменты Pivot Point.
- **TradingView**: Предоставляет инструменты построения графиков с индикаторами Pivot Point и поддерживает пользовательские скрипты.
- **QuantConnect**: Алгоритмическая торговая платформа, которая позволяет разрабатывать, тестировать и развертывать торговые стратегии с использованием Python и C#.
- **Interactive Brokers (IBKR)**: Предлагает Trader Workstation (TWS), который включает инструменты анализа Pivot Point и API для алгоритмической торговли.

## Заключение

Стратегии Pivot Point являются важной частью инструментария как для ручных, так и для алгоритмических трейдеров. Эти стратегии используют исторические ценовые данные для идентификации ключевых уровней, где рыночные настроения могут измениться. Внедрение стратегий Pivot Point в алгоритмической торговле включает расчет Pivot Points, определение уровней поддержки и сопротивления и разработку алгоритмов, которые генерируют торговые сигналы на основе этих уровней. В сочетании с другими техническими индикаторами и инструментами стратегии Pivot Point могут стать мощным компонентом общей стратегии трейдера. Принятие платформ, таких как MetaTrader, NinjaTrader, TradingView и Interactive Brokers, может облегчить разработку и выполнение алгоритмов на основе Pivot Point.
