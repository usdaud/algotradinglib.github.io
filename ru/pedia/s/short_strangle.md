# Короткий стрэнгл

Короткий стрэнгл - это сложная стратегия торговли опционами, применяемая на финансовых рынках, в первую очередь трейдерами опционов, которые ожидают, что акция или любой базовый актив останется в определенном ценовом диапазоне. Эта стратегия включает одновременную продажу опциона колл вне денег (OTM) и опциона пут вне денег (OTM) на один и тот же базовый актив с одинаковой датой истечения. Цель состоит в том, чтобы извлечь выгоду из отсутствия значительного движения цены базового актива, получая прибыль от премий, полученных от продажи двух опционов.

### Ключевые концепции

1. **Основы опционов**:
 - **Опцион колл**: Финансовый контракт, который дает покупателю право, но не обязанность, купить базовый актив по заранее определенной цене (цене исполнения) до указанной даты истечения.
 - **Опцион пут**: Финансовый контракт, который дает покупателю право, но не обязанность, продать базовый актив по заранее определенной цене до указанной даты истечения.
 - **Вне денег (OTM)**: Опцион находится вне денег, если у него нет внутренней стоимости. Для опциона колл это означает, что цена исполнения выше текущей цены базового актива. Для опциона пут цена исполнения ниже текущей цены базового актива.

2. **Построение короткого стрэнгла**:
 - **Продажа опциона колл OTM**: Выписывание опциона колл, который находится вне денег.
 - **Продажа опциона пут OTM**: Выписывание опциона пут, который находится вне денег.
 - Оба опциона должны иметь одинаковую дату истечения.

3. **Доход от премии**: Общая премия, полученная от продажи как OTM колл, так и OTM пут опционов. Эта премия представляет собой максимальный потенциал прибыли для стратегии короткого стрэнгла.

4. **Точки безубыточности**: Две ценовые точки, при которых трейдер не получает ни прибыли, ни убытка. Они рассчитываются следующим образом:
 - Верхняя точка безубыточности: Цена исполнения опциона колл плюс общая полученная премия.
 - Нижняя точка безубыточности: Цена исполнения опциона пут минус общая полученная премия.

5. **Прибыль и убыток (P&L)**:
 - Максимальная прибыль: Ограничена общей премией, полученной при инициировании сделки.
 - Максимальный убыток: Потенциально неограничен, если цена базового актива движется значительно вверх или вниз за пределы цен исполнения проданных опционов.

6. **Управление рисками**: Поскольку короткий стрэнгл включает продажу опционов, он подвергает трейдера существенному риску. Правильное управление рисками имеет решающее значение, и это обычно включает установку стоп-лосс ордеров, определение размера позиции и регулярный мониторинг рыночных условий.

### Преимущества короткого стрэнгла

- **Ненаправленная стратегия**: Короткий стрэнгл не требует конкретного направленного движения базового актива, что делает его подходящим для нейтрального рыночного прогноза.
- **Преимущество временного распада (тета)**: Стратегия выигрывает от временного распада опционов, известного как тета. По мере приближения опционов к истечению их временная стоимость уменьшается, позволяя продавцу потенциально выкупить их по более низкой цене или позволить им истечь бесполезными.
- **Стратегия волатильности**: Она извлекает выгоду из высокой подразумеваемой волатильности на момент продажи. Если фактическая волатильность ниже ожидаемой, опционы будут терять стоимость быстрее.

### Недостатки и риски

- **Потенциал неограниченных убытков**: Короткий стрэнгл подвергает трейдера неограниченному риску, если базовый актив движется значительно в любом направлении, вызывая значительные убытки.
- **Маржинальные требования**: Из-за высокорискованной природы брокеры могут требовать существенные маржинальные депозиты для инициирования и поддержания позиции короткого стрэнгла.
- **Сложное управление**: Управление коротким стрэнглом может быть сложным, особенно по мере приближения истечения или если базовый актив движется вблизи цен исполнения проданных опционов. Трейдеры должны быть проактивными в корректировке или закрытии позиций для снижения рисков.

### Реализация в алгоритмической торговле

Алгоритмическая торговля включает использование автоматизированных систем для выполнения сделок на основе заранее определенных критериев и количественных моделей. Реализация стратегии короткого стрэнгла в алгоритмической торговле требует тщательного планирования и надежных алгоритмов.

1. **Сканеры и скринеры рынка**: Алгоритмы могут сканировать рынок на предмет подходящих кандидатов для короткого стрэнгла на основе критериев, таких как подразумеваемая волатильность, торговый объем и ценовой диапазон.

2. **Условия входа**: Определите условия, при которых алгоритм будет инициировать короткий стрэнгл. Это включает выбор цен исполнения для опционов колл и пут, обеспечение их достаточной удаленности от текущей цены, и анализ подразумеваемой волатильности для определения, благоприятна ли она для продажи опционов.

3. **Параметры управления рисками**: Разработайте протоколы управления рисками в алгоритме, включая установку стоп-лосс ордеров, правил определения размера позиции и триггеров для корректировки или закрытия позиций, если рынок движется неблагоприятно.

4. **Механизмы исполнения**: Используйте сложные типы ордеров и стратегии исполнения для обеспечения продажи опционов по выгодным ценам, минимизируя проскальзывание и максимизируя полученную премию.

5. **Процедуры мониторинга и корректировки**: Алгоритм должен непрерывно отслеживать позиции и рыночные условия. Если цена базового актива приближается к ценам исполнения, алгоритму может потребоваться скорректировать стрэнгл, например, перекатить его на другую дату истечения или цены исполнения.

### Пример алгоритмической реализации

Рассмотрим пример того, как короткий стрэнгл может быть реализован в алгоритмической торговле с использованием Python и API гипотетической торговой платформы.

```python
import numpy as np
import datetime
from trading_platform_api import TradingAPI

# Initialize trading API
api = TradingAPI(api_key='your_api_key')

# Define criteria for selecting suitable assets
def select_assets():
    # Get a list of liquid assets with sufficient trading volume
    assets = api.get_liquid_assets(min_trading_volume=100000)
    # Filter assets by implied volatility
    return [asset for asset in assets if api.get_implied_volatility(asset) > 0.20]

# Define function to create a short strangle
def create_short_strangle(asset):
    # Get current price of the asset
    current_price = api.get_current_price(asset)
    # Define OTM strike prices for call and put options
    call_strike = current_price * (1 + 0.10)  # 10% above current price
    put_strike = current_price * (1 - 0.10)  # 10% below current price
    # Define expiration date one month from today
    expiration_date = datetime.date.today() + datetime.timedelta(days=30)
    # Sell OTM call option
    call_option = api.sell_option(asset, 'call', call_strike, expiration_date)
    # Sell OTM put option
    put_option = api.sell_option(asset, 'put', put_strike, expiration_date)
    return call_option, put_option

# Define risk management rules
def manage_risk(asset, call_option, put_option):
    # Get current price of the asset
    current_price = api.get_current_price(asset)
    # Check if the asset's price moves beyond the break-even points
    upper_break_even = call_option['strike'] + call_option['premium'] + put_option['premium']
    lower_break_even = put_option['strike'] - call_option['premium'] - put_option['premium']
    if current_price > upper_break_even or current_price < lower_break_even:
        # Close positions to limit losses
        api.close_option(call_option['id'])
        api.close_option(put_option['id'])

# Main trading loop
def main():
    while True:
        # Select suitable assets for short strangle
        assets = select_assets()
        for asset in assets:
            # Create a short strangle
            call_option, put_option = create_short_strangle(asset)
            # Manage risk
            manage_risk(asset, call_option, put_option)
        # Wait for a defined interval before the next iteration
        time.sleep(60 * 60)  # Run the loop every hour

if __name__ == "__main__":
    main()
```

### Примеры высокочастотных торговых фирм, использующих продвинутые опционные стратегии

- **Citadel Securities**: Одна из видных высокочастотных торговых фирм с экспертизой в торговле опционами и других сложных финансовых инструментах.
- **Jane Street**: Известна своими количественными и алгоритмическими торговыми стратегиями, включая торговлю опционами.
- **Virtu Financial**: Ведущий игрок в высокочастотной торговле, Virtu Financial использует сложные алгоритмы для различных торговых стратегий, включая опционы.

### Заключение

Короткий стрэнгл - это стратегия торговли опционами, хорошо подходящая для алгоритмической торговли, особенно в нейтральных рыночных условиях, где не ожидается значительных ценовых движений. Хотя она предлагает потенциал дохода от премий, она также несет существенные риски. Поэтому успешная реализация требует продвинутых алгоритмов, надежного управления рисками и непрерывного мониторинга. Фирмы, специализирующиеся на высокочастотной и алгоритмической торговле, такие как Citadel Securities, Jane Street и Virtu Financial, часто используют сложные модели для эффективной реализации и управления такими стратегиями.