# Money Flow Index (MFI) — Индекс денежных потоков

Индекс денежных потоков (MFI) — это индикатор импульса, который использует данные о цене и объеме для определения условий перекупленности или перепроданности актива. Он похож на индекс относительной силы (RSI), но включает объем, в то время как RSI учитывает только цену. MFI является полезным инструментом для трейдеров и инвесторов для оценки рыночных настроений и потенциальных точек разворота на рынке.

### Расчет MFI

MFI рассчитывается через многоэтапный процесс, который включает использование типичной цены, денежного потока и коэффициента денежного потока:

1. **Типичная цена (TP):**
 \[
 TP = \frac{\text{Максимум} + \text{Минимум} + \text{Закрытие}}{3}
 \]

2. **Сырой денежный поток (RMF):**
 \[
 RMF = TP \times \text{Объем}
 \]

3. **Положительный и отрицательный денежный поток:**
 - Если сегодняшняя типичная цена больше вчерашней типичной цены, это считается положительным денежным потоком.
 - Если сегодняшняя типичная цена меньше вчерашней типичной цены, это считается отрицательным денежным потоком.

4. **Коэффициент денежного потока (MFR):**
 \[
 MFR = \frac{\text{Положительный денежный поток (за 14 периодов)}}{\text{Отрицательный денежный поток (за 14 периодов)}}
 \]

5. **Индекс денежных потоков (MFI):**
 \[
 MFI = 100 - \frac{100}{1 + MFR}
 \]

### Интерпретация MFI

MFI обычно рассчитывается за 14-дневный период и находится в диапазоне от 0 до 100. Вот основные интерпретации значений MFI:

- **Условие перекупленности:** MFI выше 80.
- **Условие перепроданности:** MFI ниже 20.
- **Сила тренда и развороты:** Расхождения между MFI и ценой могут указывать на потенциальные и значительные развороты рынка. Например, цена, достигающая нового максимума, в то время как MFI формирует более низкий максимум, может сигнализировать о надвигающемся падении.

### Применение и примеры

#### Условия перекупленности и перепроданности
Когда MFI опускается ниже 20, это указывает на то, что ценная бумага потенциально перепродана и может представлять возможность для покупки. И наоборот, когда MFI превышает 80, ценная бумага может быть перекуплена и представлять возможность для продажи. Эта концепция может быть особенно полезна для свинг-трейдеров.

#### Дивергенции
Обнаруженные дивергенции между MFI и ценой могут служить сигналом для трейдеров. Например, если цена акции достигает более высоких максимумов, но MFI этого не делает, эта медвежья дивергенция может указывать на ослабление восходящего импульса.

### Пример расчета

Предположим следующие данные (для простоты):

- Максимум: $50, Минимум: $42, Закрытие: $46, Объем: 200,000
- Максимум: $48, Минимум: $41, Закрытие: $44, Объем: 220,000

#### Пошаговый расчет:

1. **Типичная цена (TP):**
 \[
 TP_1 = \frac{50 + 42 + 46}{3} = 46
 \]
 \[
 TP_2 = \frac{48 + 41 + 44}{3} = 44.33
 \]

2. **Сырой денежный поток (RMF):**
 \[
 RMF_1 = 46 \times 200000 = 9200000
 \]
 \[
 RMF_2 = 44.33 \times 220000 = 9752600
 \]

3. **Положительный и отрицательный денежный поток:**
 - Для TP_2 (44.33 < 46), RMF отрицательный
 - Для TP_1 (нет предыдущего дня для сравнения)

 Предположим, у вас есть 14 периодов, и суммируйте положительные и отрицательные денежные потоки соответственно.

4. **Коэффициент денежного потока (MFR):**
 Предположим,
 \[
 \text{Сумма положительного денежного потока} = 50000000
 \]
 \[
 \text{Сумма отрицательного денежного потока} = 30000000
 \]
 \[
 MFR = \frac{50000000}{30000000} = 1.67
 \]

5. **Индекс денежных потоков (MFI):**
 \[
 MFI = 100 - \frac{100}{1 + 1.67} \approx 62.5
 \]

 С MFI 62.5 ценная бумага не находится в зоне перекупленности или перепроданности.

### Практические случаи использования

#### Торговля акциями
Трейдеры могут использовать MFI для определения точек входа и выхода. Например, высокие показания MFI могут побудить к фиксации прибыли, в то время как низкие показания могут предложить возможности для покупки.

#### Сравнение различных ценных бумаг
Используя MFI, трейдеры могут сравнивать несколько ценных бумаг для выявления относительной силы среди них. Например, если две акции находятся в одной отрасли, но имеют значительно разные показания MFI, одна может быть лучшим кандидатом на покупку или продажу на основе ее рыночного импульса.

### MFI в алгоритмической торговле

В алгоритмической торговле MFI может быть включен в торговые алгоритмы для автоматизации решений о покупке или продаже на основе предопределенных пороговых уровней. Вот некоторые упрощенные шаги протокола:

- **Ввод данных:** Получите дневные данные о максимуме, минимуме, закрытии и объеме для целевой ценной бумаги.
- **Расчет MFI:** Реализуйте формулу расчета MFI в торговой системе.
- **Условия срабатывания:** Установите условия для запуска сделок, такие как:
 ```python
 if MFI < 20:
 Buy()
 elif MFI > 80:
 Sell()
 ```
- **Бэктестинг:** Протестируйте стратегию, используя исторические данные для проверки ее эффективности.

### Популярные платформы и инструменты

Несколько торговых платформ и инструментов предлагают встроенные индикаторы MFI, такие как:

- **MetaTrader 4 & 5:** Популярный выбор среди форекс-трейдеров, предлагающий MFI в качестве стандартного индикатора.
- **TradingView:** Онлайн-платформа для торговли, известная своим удобным интерфейсом и встроенным индикатором MFI.
- **Thinkorswim by TD Ameritrade:** Мощная торговая платформа, включающая индикаторы MFI.
- **Библиотеки Python:** Библиотеки, такие как `ta-lib`, могут использоваться для расчета MFI в пользовательских торговых алгоритмах.

### Ссылки и ресурсы

- TD Ameritrade Thinkorswim Platform
- TradingView Platform
- MetaTrader Platform

### Заключение

Индекс денежных потоков (MFI) является привлекательным инструментом, который сочетает цену и объем, чтобы дать трейдерам представление о силе рыночных движений. Его применение в выявлении условий перекупленности или перепроданности, а также потенциальных дивергенций делает его ценным дополнением к набору инструментов любого трейдера. Будь то для ручной или алгоритмической торговли, понимание и использование MFI может помочь в принятии более обоснованных и потенциально прибыльных торговых решений.
