# Расчет Z-Scores

### Введение в Z-Scores

В области [статистики](../s/statistics.md) и анализа данных [Z-scores](../z/z-scores_in_trading.md) играют центральную роль в понимании относительного позиционирования точек данных в наборе данных. В частности, в контексте [алгоритмического трейдинга](../a/algorithmic_trading.md) (часто сокращаемого как "algo trading"), [Z-scores](../z/z-scores_in_trading.md) являются ключевыми в создании [торговых стратегий](../t/trading_strategies.md), которые выявляют аномалии, выбросы и потенциальные [торговые сигналы](../t/trading_signals.md).

### Определение Z-Score

[Z-score](../z/z-score.md), также известный как стандартный балл, количественно определяет количество стандартных отклонений, на которые точка данных отстоит от среднего значения набора данных. Эта мера полезна для сравнения точек данных из различных распределений, анализа [волатильности](../v/volatility.md) и выявления закономерностей.

Математическая формула для расчета [Z-score](../z/z-score.md):

\[ Z = \frac{X - \mu}{\sigma} \]

Где:
- \( X \) - [значение](../v/value.md) точки данных,
- \( \mu \) - среднее значение набора данных,
- \( \sigma \) - [стандартное отклонение](../s/standard_deviation.md) набора данных.

### Важность Z-Scores в алгоритмическом трейдинге

В [алгоритмическом трейдинге](../a/algorithmic_trading.md), [Z-scores](../z/z-scores_in_trading.md) используются для стандартизации финансовых данных, выявления [перекупленных](../o/overbought.md) или [перепроданных](../o/oversold.md) условий и построения стратегий возврата к среднему. Преобразуя данные цен в [Z-scores](../z/z-scores_in_trading.md), трейдеры могут лучше понять, насколько цены отклоняются от своего исторического среднего, позволяя принимать более обоснованные торговые решения.

### Расчет Z-Scores: пошаговый процесс

Для расчета [Z-scores](../z/z-scores_in_trading.md) финансовых данных следуйте этим шагам:

1. **Сбор данных**: Собрать исторические данные цен для [актива](../a/asset.md) или активов, которые вы анализируете. Это может включать цены закрытия, [объем](../v/volume.md), метрики [волатильности](../v/volatility.md) и т.д.

2. **Расчет среднего**: Определить среднее (\( \mu \)) набора данных. Среднее - это среднее [значение](../v/value.md) и может быть найдено по формуле:

\[ \mu = \frac{\sum X}{N} \]

 где \( \sum X \) - сумма всех точек данных, а \( N \) - количество точек данных.

3. **Расчет [стандартного отклонения](../s/standard_deviation.md)**: Вычислить [стандартное отклонение](../s/standard_deviation.md) (\( \sigma \)) набора данных, которое измеряет [дисперсию](../d/dispersion.md) или разброс точек данных. Формула для [стандартного отклонения](../s/standard_deviation.md):

\[ \sigma = \sqrt{\frac{\sum (X - \mu)^2}{N}} \]

4. **Расчет [Z-Score](../z/z-score.md)**: [Подставить](../s/substitute.md) \( X \), \( \mu \) и \( \sigma \) в формулу [Z-score](../z/z-score.md), чтобы получить [Z-score](../z/z-score.md) для каждой точки данных.

### Практический пример

Предположим, у нас есть цены закрытия акции за 10 дней следующим образом: [101, 102, 103, 100, 98, 105, 107, 95, 96, 99].

#### Пошаговый расчет

1. **Расчет среднего**:
\[ \mu = \frac{101 + 102 + 103 + 100 + 98 + 105 + 107 + 95 + 96 + 99}{10} = 100.6 \]

2. **Расчет [стандартного отклонения](../s/standard_deviation.md)**:
\[
\begin{align*}
\sigma &= \sqrt{\frac{(101-100.6)^2 + (102-100.6)^2 + (103-100.6)^2 + (100-100.6)^2 + (98-100.6)^2 + (105-100.6)^2 + (107-100.6)^2 + (95-100.6)^2 + (96-100.6)^2 + (99-100.6)^2}{10}} \
&= \sqrt{\frac{0.16 + 1.96 + 5.76 + 0.36 + 6.76 + 19.36 + 41.76 + 31.36 + 21.16 + 2.56}{10}} \
&= \sqrt{\frac{131.2}{10}} \
&= 3.623 \
\end{align*}
 \]

3. **Расчет [Z-Score](../z/z-score.md) для каждой точки данных**:
\[
\begin{align*}
Z_1 &= \frac{101 - 100.6}{3.623} = 0.11 \
Z_2 &= \frac{102 - 100.6}{3.623} = 0.38 \
Z_3 &= \frac{103 - 100.6}{3.623} = 0.66 \
Z_4 &= \frac{100 - 100.6}{3.623} = -0.17 \
Z_5 &= \frac{98 - 100.6}{3.623} = -0.72 \
Z_6 &= \frac{105 - 100.6}{3.623} = 1.21 \
Z_7 &= \frac{107 - 100.6}{3.623} = 1.77 \
Z_8 &= \frac{95 - 100.6}{3.623} = -1.54 \
Z_9 &= \frac{96 - 100.6}{3.623} = -1.27 \
Z_{10} &= \frac{99 - 100.6}{3.623} = -0.44 \
\end{align*}
 \]

### Применение в торговых стратегиях

#### Стратегия возврата к среднему

Торговые стратегии возврата к среднему основаны на принципе, что цены и доходы в конце концов движутся назад к среднему или среднему уровню. В этом контексте [Z-scores](../z/z-scores_in_trading.md) помогают выявить, когда [актив](../a/asset.md) [перекуплен](../o/overbought.md) (высокий положительный [Z-score](../z/z-score.md)) или [перепродан](../o/oversold.md) (высокий отрицательный [Z-score](../z/z-score.md)), таким образом представляя потенциальные торговые возможности.

#### Пример

Если [Z-score](../z/z-score.md) цены акции превышает +2, это может считаться [перекупленным](../o/overbought.md) (возможность продажи). И наоборот, если оно падает ниже -2, акция может считаться [перепроданной](../o/oversold.md) (возможность покупки).

#### Статистический арбитраж

В статистическом [арбитраже](../a/arbitrage.md), [парная торговля](../p/pairs_trading.md) или корзинная торговля использует [Z-scores](../z/z-scores_in_trading.md) путем выявления отношений между коррелированными ценными бумагами. Контролируя [Z-scores](../z/z-scores_in_trading.md) ценовых [спредов](../s/spreads.md) между парами, трейдеры могут выполнять сделки, которые используют предполагаемые неправильные оценки.

### Инструменты и программное обеспечение для расчета Z-Score

Несколько торговых платформ и [инструменты программного обеспечения](../s/software_tools_for_trading.md) предоставляют функции для расчета [Z-scores](../z/z-scores_in_trading.md). Примечательные примеры включают:

- **Python (библиотеки Pandas и NumPy)**: Популярен среди аналитиков данных и algo traders благодаря гибкости и мощным возможностям манипулирования данными. Например:
 ```python
 [import](../i/import.md) pandas as pd
 [import](../i/import.md) numpy as np

 # Предположим, df - это DataFrame со столбцом 'price'
 df['z_score'] = (df['price'] - df['price'].mean()) / df['price'].std()
 ```
- **R (пакет quantmod)**: Широко используется в [количественных финансах](../q/quantitative_finance.md) для [анализа временных рядов](../t/time_series_analysis.md) и торговли:
 ```R
 library(quantmod)
 prices <- c(101, 102, 103, 100, 98, 105, 107, 95, 96, 99)
 z_scores <- scale(prices)
 ```
- **Excel**: Базовые расчеты [Z-score](../z/z-score.md) можно выполнить с использованием простых формул:
 ```excel
 = (A1 - MEAN(A1:A10)) / STDEV(A1:A10)
 ```

### Тематическое исследование: использование Z-Scores компаниями алгоритмического трейдинга

**Hudson River Trading (HRT)**:
Hudson River Trading (HRT) во многом полагается на [количественные исследования](../q/quantitative_research.md) и продвинутые алгоритмы. [Z-scores](../z/z-scores_in_trading.md) являются частью их статистических моделей для выявления и выполнения прибыльных сделок.

### Заключение

[Z-scores](../z/z-scores_in_trading.md) - это мощный статистический инструмент в [алгоритмическом трейдинге](../a/algorithmic_trading.md), предоставляющий предложения по условиям на [рынке](../m/market.md) и позволяющий трейдерам разрабатывать [надежные](../r/robust.md) [торговые стратегии](../t/trading_strategies.md). Независимо от того, используются ли они для возврата к среднему, статистического [арбитража](../a/arbitrage.md) или других [количественных стратегий](../q/quantitative_strategies_in_trading.md), понимание и расчет [Z-scores](../z/z-scores_in_trading.md) незаменимы для современных трейдеров, стремящихся использовать возможности принятия решений на основе данных.
