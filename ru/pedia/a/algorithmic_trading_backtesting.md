# Бэктестинг алгоритмической торговли

Бэктестинг моделирует торговую стратегию на исторических данных, чтобы оценить результат до использования капитала. Хороший бэктест делает упор на реализм, воспроизводимость и устойчивость, а не только на итоговую доходность.

## Подготовка данных
Качественные данные - основа любого бэктеста. Цены должны быть корректно скорректированы с учетом корпоративных событий, а тикеры - сопоставлены с учетом смен названий. Ошибка выживших должна быть исключена при использовании индексов или вселенных. Точность временных меток критична для внутридневных стратегий.

## Механика симуляции
Бэктест должен моделировать, как ордера исполнились бы на рынке. Это включает спред bid-ask, комиссии, проскальзывание и частичные исполнения. Модель исполнения должна учитывать тип ордера, размер сделки и условия ликвидности. Без этого результаты будут чрезмерно оптимистичными.

## Метрики эффективности
Ключевые метрики включают доходность, волатильность, просадку, коэффициент Шарпа, фактор прибыли, долю прибыльных сделок и оборот. Оценивайте устойчивость по разным временным окнам, а не только по полному периоду. Стратегия, работающая лишь в одном режиме, хрупка.

## Источники смещения
Look-ahead bias возникает, когда будущая информация попадает в сигнал или логику исполнения. Data snooping возникает, когда параметры подбираются до тех пор, пока бэктест не покажет хороший результат. Оба фактора ведут к завышенным ожиданиям и слабой работе в реальной торговле.

## Валидация и устойчивость
Тесты вне выборки, walk-forward анализ и стресс-сценарии дают более сильные доказательства устойчивости. Стратегию следует проверять на разных рыночных режимах, включая спокойные и волатильные периоды. Небольшие изменения параметров не должны вызывать больших изменений результатов.

## Заключение
Бэктестинг необходим, но недостаточен. Цель - проверить стратегию в реалистичных условиях и понять, где она может дать сбой до того, как рискуется реальный капитал.
