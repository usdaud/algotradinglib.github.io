# 7-дневная скользящая средняя

7-дневная скользящая средняя — это технический индикатор, обычно используемый в алгоритмической торговле для сглаживания краткосрочных колебаний и выделения долгосрочных трендов в ценовых данных. Как широко используемый инструмент, он помогает трейдерам и аналитикам принимать более обоснованные решения, отфильтровывая «шум» от случайных ценовых движений, тем самым обеспечивая более чёткое видение базовой ценовой траектории.

#### Определение

7-дневная скользящая средняя рассчитывается путём взятия арифметического среднего набора цен за последние семь дней. Это подразумевает, что каждая точка на линии скользящей средней является средним значением цен закрытия за последние семь дней.

\[ \text{7-дневная MA} = \frac{P_1 + P_2 + P_3 + \ldots + P_7}{7} \]

где \( P_1, P_2, \ldots, P_7 \) — цены закрытия за последние семь дней.

#### Важность

Значимость 7-дневной скользящей средней заключается в её простоте и эффективности. Она достаточно короткая, чтобы быть отзывчивой к недавним изменениям, но достаточно длинная, чтобы сглаживать ежедневную волатильность. Это делает её особенно полезной для краткосрочных трейдеров, которым необходимо быстро реагировать на рыночные движения.

#### Расчёт

Чтобы понять, как рассчитывается 7-дневная скользящая средняя, представьте, что у вас есть таблица цен закрытия для акции за десять дней:

| День | Цена закрытия |
|------|---------------|
| 1 | $100 |
| 2 | $102 |
| 3 | $104 |
| 4 | $103 |
| 5 | $107 |
| 6 | $110 |
| 7 | $113 |
| 8 | $115 |
| 9 | $112 |
| 10 | $114 |

Чтобы найти 7-дневную скользящую среднюю для дня 7:

\[ \text{7-дневная MA (День 7)} = \frac{100 + 102 + 104 + 103 + 107 + 110 + 113}{7} = \frac{739}{7} = 105.57 \]

Для дня 8:

\[ \text{7-дневная MA (День 8)} = \frac{102 + 104 + 103 + 107 + 110 + 113 + 115}{7} = \frac{754}{7} = 107.71 \]

Этот процесс повторяется для каждого последующего дня для создания плавной кривой, которую трейдеры могут анализировать.

#### Применение в алгоритмической торговле

В алгоритмической торговле 7-дневная скользящая средняя может использоваться в различных стратегиях:

1. **Следование за трендом:** Трейдеры используют 7-дневную скользящую среднюю для идентификации направления тренда. Если цена выше скользящей средней, это предполагает восходящий тренд, в то время как цена ниже скользящей средней предполагает нисходящий тренд.
2. **Стратегии пересечения:** Популярная техника включает использование двух скользящих средних разных периодов. Например, 7-дневная скользящая средняя может использоваться в сочетании с 21-дневной скользящей средней. Когда 7-дневная скользящая средняя пересекает выше 21-дневной скользящей средней, это генерирует сигнал на покупку, указывая на потенциальный восходящий тренд. И наоборот, когда 7-дневная скользящая средняя пересекает ниже 21-дневной скользящей средней, это генерирует сигнал на продажу.
3. **Уровни поддержки и сопротивления:** Скользящие средние могут действовать как динамические уровни поддержки и сопротивления. Трейдеры наблюдают, как цена взаимодействует с 7-дневной скользящей средней. Часто цена может «отскакивать» от скользящей средней, предоставляя торговые возможности.

#### Примеры в торговых алгоритмах

1. **Стратегия возврата к среднему:** Стратегия возврата к среднему может включать идентификацию периодов, когда цена акции значительно отклоняется от своей 7-дневной скользящей средней, с ожиданием, что цена вернётся к среднему. Если цена движется слишком далеко выше 7-дневной скользящей средней, это может считаться перекупленностью, генерируя сигнал на продажу. И наоборот, если цена движется слишком далеко ниже 7-дневной скользящей средней, это может считаться перепроданностью, генерируя сигнал на покупку.

2. **Моментум-стратегии:** В моментум-стратегиях 7-дневная скользящая средняя может использоваться для подтверждения моментума. Если цена акции постоянно выше 7-дневной скользящей средней и скользящая средняя наклонена вверх, это указывает на сильный восходящий моментум, сигнализируя покупку. Если цена ниже 7-дневной скользящей средней и скользящая средняя наклонена вниз, это сигнализирует о сильном нисходящем моментуме, ведущем к продаже.

#### Кодирование 7-дневной скользящей средней

Реализация 7-дневной скользящей средней в коде может варьироваться в зависимости от среды программирования. Ниже приведён пример с использованием Python и библиотеки pandas:

```python
import pandas as pd

# Пример данных
data = {
    'Date': pd.date_range(start='2022-01-01', periods=10, freq='D'),
    'Close': [100, 102, 104, 103, 107, 110, 113, 115, 112, 114]
}

df = pd.DataFrame(data)

# Рассчитайте 7-дневную скользящую среднюю
df['7-Day MA'] = df['Close'].rolling(window=7).mean()

print(df)
```

Этот простой код создаёт DataFrame с ценами закрытия, а затем использует метод `rolling` для расчёта 7-дневной скользящей средней, добавляя результат в качестве нового столбца в DataFrame.

#### Ограничения

Хотя 7-дневная скользящая средняя является мощным инструментом, у неё есть свои ограничения:

1. **Запаздывание:** Как и все скользящие средние, 7-дневная скользящая средняя является запаздывающим индикатором. Она основана на прошлых ценах, что означает, что она может не точно предсказывать будущие ценовые движения.
2. **Чувствительность:** Короткий период 7-дневной скользящей средней делает её более чувствительной к изменениям цен, что иногда может приводить к ложным сигналам во время неустойчивых рыночных условий.
3. **Простота:** Простота скользящих средних также означает, что они не учитывают более сложную рыночную динамику или внешние факторы.

#### Реализация на торговых платформах

Многие торговые платформы и финансовые сервисы предоставляют инструменты для реализации скользящих средних в торговых стратегиях. Например:

- **MetaTrader 4/5:** Предлагает встроенные инструменты для скользящих средних и настраиваемые экспертные советники для автоматизации торговых стратегий.
- **NinjaTrader:** Предоставляет набор инструментов технического анализа, включая скользящие средние, и поддерживает разработку пользовательских скриптов.
- **Interactive Brokers:** Через свою рабочую станцию трейдера Interactive Brokers поддерживает различные типы скользящих средних и периоды, которые можно использовать в автоматизированных торговых алгоритмах.

#### Дополнительное чтение

Для тех, кто заинтересован в более глубоком погружении в тему скользящих средних и их применения в торговле, следующие ресурсы могут быть полезны:

- Investopedia — Скользящая средняя: Подробное объяснение скользящих средних, их типов и применения.
- Interactive Brokers — Рабочая станция трейдера: Платформа, предоставляющая передовые торговые инструменты и индикаторы, включая скользящие средние.
- MetaTrader 4/5: Комплексные торговые платформы, широко используемые в розничной и институциональной торговле.

В заключение, 7-дневная скользящая средняя — это универсальный и широко используемый индикатор в алгоритмической торговле, служащий фундаментальным инструментом для идентификации трендов, генерации торговых сигналов и сглаживания ценовых данных. Несмотря на её ограничения, при правильном использовании она может значительно улучшить процесс принятия решений трейдера.
