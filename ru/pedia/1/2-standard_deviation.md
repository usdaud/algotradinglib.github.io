# 2-стандартных отклонения

В сфере алгоритмической торговли и финансового анализа два стандартных отклонения — ключевой статистический инструмент, который трейдеры и аналитики используют для принятия решений. Этот инструмент опирается на концепции нормального распределения и стандартного отклонения, которые являются фундаментальными в статистике и теории вероятностей.

## Нормальное распределение

Нормальное распределение, также известное как гауссово распределение, — это распределение вероятностей, симметричное относительно среднего значения. Это означает, что большинство наблюдений сосредоточено вокруг центрального пика, а вероятности для значений, удаленных от среднего, равномерно убывают в обе стороны. Свойства нормального распределения важны для понимания стандартного отклонения и его приложений.

## Стандартное отклонение

Стандартное отклонение — это мера вариации или разброса набора значений. В финансовом контексте оно используется для измерения волатильности цены актива. Формула расчета стандартного отклонения:

\[ \sigma = \sqrt{\frac{1}{N} \sum_{i=1}^{N} (x_i - \mu)^2} \]

Где:
- \(\sigma\) — стандартное отклонение
- \(N\) — количество наблюдений
- \(x_i\) — каждое отдельное наблюдение
- \(\mu\) — среднее значение (average)

## Два стандартных отклонения

Термин «2 стандартных отклонения» означает диапазон, в котором находится примерно 95% значений нормально распределенного набора данных. Это следует из эмпирического правила (68-95-99,7), согласно которому:
- 68% значений находятся в пределах 1 стандартного отклонения от среднего
- 95% значений находятся в пределах 2 стандартных отклонений от среднего
- 99,7% значений находятся в пределах 3 стандартных отклонений от среднего

### Математическое представление

Диапазон двух стандартных отклонений записывается так:
\[ \mu \pm 2\sigma \]

Где:
- \(\mu\) — среднее значение данных
- \(\sigma\) — стандартное отклонение данных

### Важность в алгоритмической торговле

Алгоритмическая торговля использует заранее заданные инструкции для исполнения сделок с высокой скоростью и частотой. Трейдеры применяют количественные модели и алгоритмы для анализа данных и принятия решений.

Два стандартных отклонения играют важную роль в разработке таких моделей. Они помогают:
- **Выявлять ценовые аномалии**: когда цена актива выходит за пределы двух стандартных отклонений, это указывает на значительное отклонение от нормы и возможные торговые возможности из-за перекупленности или перепроданности.
- **Управлять рисками**: понимание диапазона двух стандартных отклонений помогает устанавливать стоп-лоссы и тейк-профиты.
- **Оценивать волатильность**: этот диапазон дает представление о волатильности актива, помогая строить стратегии, основанные на волатильности.

### Полосы Боллинджера

Одно из самых известных применений двух стандартных отклонений в алгоритмической торговле — полосы Боллинджера. Полосы Боллинджера — это статистический график, описывающий цену и волатильность финансового инструмента или товара во времени.

Полосы состоят из трех линий:
- средняя линия — простая скользящая средняя (SMA)
- верхняя и нижняя полосы построены на расстоянии 2 стандартных отклонений от SMA

Полосы Боллинджера дают визуальное представление о цене относительно исторической волатильности и полезны для:
- **Выявления перекупленности и перепроданности**: когда цена касается верхней полосы, актив может быть перекуплен, а при касании нижней полосы — перепродан.
- **Анализа тренда**: полосы могут указывать на силу и направление тренда.

## Значимость для финансовых институтов и компаний

Многие финансовые институты и компании используют концепцию двух стандартных отклонений в своих торговых алгоритмах и стратегиях управления рисками. Например:

- **Goldman Sachs**: известна сложными торговыми алгоритмами и использует статистические инструменты, включая два стандартных отклонения, для принятия решений. Goldman Sachs
- **Jane Street**: проприетарная торговая фирма, активно использующая количественные стратегии, вероятно применяет и этот показатель в моделях. Jane Street
- **Renaissance Technologies**: знаменитая фондом Medallion, применяет сложные математические модели, которые, вероятно, включают два стандартных отклонения среди других инструментов. Renaissance Technologies

### Расчет и интерпретация

1. **Среднее (μ)**: среднее значение набора данных рассчитывается как:

 \[
 \mu = \frac{1}{N} \sum_{i=1}^{N} x_i
 \]

 где \(N\) — число точек данных, а \(x_i\) — значение i-й точки.

2. **Стандартное отклонение (σ)**: стандартное отклонение показывает, насколько разбросаны значения, и рассчитывается как:

 \[
 \sigma = \sqrt{\frac{1}{N-1} \sum_{i=1}^{N} (x_i - \mu)^2}
 \]

3. **Диапазон 3 сигм**: диапазон значений в пределах трех стандартных отклонений от среднего задается как:

 \[
 [\mu - 3\sigma, \mu + 3\sigma]
 \]

### Пример на Python

Ниже приведен простой пример кода на Python, демонстрирующий расчет правила 3 сигм на выборке данных:

```python
import numpy as np

# Sample data (e.g., daily returns of a stock)
data = [0.001, 0.002, -0.003, 0.004, -0.002, 0.0015, -0.0015, 0.0025, -0.0035, 0.002]

# Calculate mean
mean = np.mean(data)

# Calculate standard deviation
std_dev = np.std(data, ddof=1)

# Calculate 3-sigma range
lower_bound = mean - 3 * std_dev
upper_bound = mean + 3 * std_dev

print("Mean:", mean)
print("Standard Deviation:", std_dev)
print("3-Sigma Range:", (lower_bound, upper_bound))
```

### Критика и ограничения

#### Предположение о нормальности
Главное ограничение правила трех сигм — предположение о том, что исходные данные подчиняются нормальному распределению. На финансовых рынках доходности активов часто имеют «толстые хвосты» и асимметрию, поэтому нормальное распределение не всегда является точной моделью.

#### Экстремальные события
Экстремальные движения рынка, часто называемые событиями «черного лебедя», выходят за пределы диапазона трех сигм. Эти события редки, но могут иметь серьезные последствия, и правило трех сигм не учитывает их. Трейдеры, полагающиеся только на это правило, могут оказаться неготовыми к таким аномалиям.

### Заключение

Два стандартных отклонения — важный статистический показатель, широко используемый в алгоритмической торговле. Понимание и применение концепции двух стандартных отклонений помогает трейдерам находить торговые возможности, эффективно управлять рисками и развивать устойчивые торговые стратегии. По мере эволюции финансовых рынков использование подобных статистических инструментов будет оставаться ключевым для повышения эффективности торговли и прибыльности.

Для более подробной информации об алгоритмической торговле и решениях по управлению рисками можно обратиться к Algorithmic Trading Group.
