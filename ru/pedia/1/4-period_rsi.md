# 4-периодный RSI

4-периодный индекс относительной силы (RSI) — это осциллятор импульса, который измеряет скорость и изменение ценовых движений за указанный период, в данном случае четыре периода. RSI колеблется между нулём и 100 и обычно используется для определения перекупленных или перепроданных условий на рынке для данной ценной бумаги.

## Расчёт RSI
RSI рассчитывается по следующей формуле:

\[ RSI = 100 - \left( \frac{100}{1 + RS} \right) \]

где RS (Relative Strength, относительная сила) — это среднее значение восходящих закрытий за 'N' дней, делённое на среднее значение нисходящих закрытий за 'N' дней, где 'N' — указанный период, который составляет четыре дня в контексте 4-периодного RSI.

\[ RS = \frac{\text{Средняя прибыль}}{\text{Средний убыток}} \]

### Шаги расчёта RSI
1. Определите среднюю прибыль и средний убыток за указанный период.
 - Прибыли — это разница между ценами закрытия в дни роста.
 - Убытки — это разница между ценами закрытия в дни падения.
2. Разделите сумму прибылей на количество периодов, чтобы получить среднюю прибыль.
3. Разделите сумму убытков на количество периодов, чтобы получить средний убыток.
4. Вычислите относительную силу (RS).
5. Подставьте RS в формулу RSI, чтобы получить текущий RSI.

### Пример расчёта
Предположим следующие цены закрытия за 4-дневный период:
- День 1: 150
- День 2: 155
- День 3: 153
- День 4: 160

**Пошаговый расчёт:**

1. Рассчитайте ежедневные изменения:
 - День 2: 155 - 150 = +5 (прибыль)
 - День 3: 153 - 155 = -2 (убыток)
 - День 4: 160 - 153 = +7 (прибыль)

2. Рассчитайте среднюю прибыль и убыток:
 - Средняя прибыль = (5 + 7) / 4 = 3 (используя только дни с прибылью)
 - Средний убыток = 2 / 4 = 0.5 (используя только дни с убытками)

3. Рассчитайте RS:
 - RS = 3 / 0.5 = 6

4. Рассчитайте RSI:
 - RSI = 100 - (100 / (1 + 6))
 - RSI = 100 - (100 / 7)
 - RSI = 100 - 14.29 ≈ 85.71

RSI для этих 4 периодов составляет приблизительно 85.71, что указывает на то, что акция может быть перекуплена.

## Интерпретация RSI
Обычно RSI выше 70 указывает на то, что ценная бумага становится перекупленной или переоценённой, что может сигнализировать о развороте тренда или корректирующем откате цены. И наоборот, RSI ниже 30 предполагает, что ценная бумага может быть перепродана или недооценена, что может сигнализировать о развороте тренда или корректирующем ралли.

### Условия перекупленности и перепроданности
- **Перекупленность (RSI > 70):** Когда RSI пересекает уровень выше 70, ценная бумага считается перекупленной. Эта ситуация может указывать на то, что актив может быть готов к откату или коррекции.

- **Перепроданность (RSI < 30):** Когда RSI пересекает уровень ниже 30, ценная бумага считается перепроданной. Эта ситуация может указывать на то, что актив может быть готов к ралли или отскоку.

## Преимущества 4-периодного RSI
- **Чувствительность:** 4-периодный RSI более чувствителен к изменениям цен по сравнению с более длинными периодами, такими как 14-периодный RSI. Это может сделать его более полезным для краткосрочных торговых стратегий.
- **Быстрая реакция:** Более короткий период расчёта позволяет RSI быстрее реагировать на недавние изменения цен, что делает его идеальным для захвата краткосрочных условий перекупленности или перепроданности.

## Недостатки 4-периодного RSI
- **Более высокая волатильность:** Из-за своей чувствительности RSI может производить больше ложных сигналов, что может привести к преждевременным входам или выходам.
- **Меньше сглаживания:** Более короткий таймфрейм обеспечивает меньше сглаживания, что может увеличить вероятность вводящих в заблуждение сигналов.

## Сравнение с другими периодами RSI
- **14-периодный RSI:** Традиционный индикатор RSI рассчитывается за 14 периодов и широко используется. Хотя он менее чувствителен, чем 4-периодный RSI, он производит меньше ложных сигналов и обеспечивает лучшее обнаружение долгосрочных трендов.

- **6 или 10-периодный RSI:** Среднесрочные периоды RSI, такие как 6 или 10 периодов, обеспечивают баланс между чувствительностью и сглаживанием. Они менее подвержены волатильности по сравнению с 4-периодным RSI, но более отзывчивы, чем 14-периодный RSI.

## Практическое применение
### Краткосрочная торговля
4-периодный RSI особенно полезен в краткосрочных торговых стратегиях, включая дневную торговлю и свинг-трейдинг. Трейдеры могут использовать быструю отзывчивость 4-периодного RSI для капитализации на краткосрочных ценовых движениях.

### Обнаружение дивергенции
Трейдеры часто используют RSI для обнаружения дивергентных ценовых движений. Дивергенция возникает, когда цена движется в одном направлении, а RSI движется в противоположном направлении. Это может указывать на потенциальные развороты:
- **Бычья дивергенция:** Возникает, когда цена достигает нового минимума, в то время как RSI формирует более высокий минимум.
- **Медвежья дивергенция:** Возникает, когда цена достигает нового максимума, в то время как RSI формирует более низкий максимум.

## Реализация 4-периодного RSI в торговых алгоритмах
Многие платформы алгоритмической торговли позволяют трейдерам проводить бэктест стратегий с использованием индикаторов, таких как 4-периодный RSI. Платформы, такие как QuantConnect и AlgoTrader, предоставляют сложные среды для разработки и тестирования алгоритмических торговых стратегий.

### Пример алгоритма
Вот простой пример того, как вы можете реализовать торговый алгоритм с использованием 4-периодного RSI на Python с библиотеками `pandas` и `numpy`:

```python
import pandas as pd
import numpy as np

# Получить ценовые данные (предполагается, что это DataFrame с колонкой 'Close')
data = pd.DataFrame({
    'Close': [150, 155, 153, 160, 162, 158, 159]
})

# Рассчитать изменения цен
data['Change'] = data['Close'].diff()

# Разделить прибыли и убытки
data['Gain'] = np.where(data['Change'] > 0, data['Change'], 0)
data['Loss'] = np.where(data['Change'] < 0, -data['Change'], 0)

# Рассчитать среднюю прибыль и средний убыток
data['Avg_Gain'] = data['Gain'].rolling(window=4).mean()
data['Avg_Loss'] = data['Loss'].rolling(window=4).mean()

# Рассчитать RS и RSI
data['RS'] = data['Avg_Gain'] / data['Avg_Loss']
data['RSI'] = 100 - (100 / (1 + data['RS']))

# Определить торговые правила
buy_signal = []
sell_signal = []

for rsi in data['RSI']:
    if rsi < 30:
        buy_signal.append(True)
        sell_signal.append(False)
    elif rsi > 70:
        buy_signal.append(False)
        sell_signal.append(True)
    else:
        buy_signal.append(False)
        sell_signal.append(False)

data['Buy_Signal'] = buy_signal
data['Sell_Signal'] = sell_signal

print(data)
```

Этот скрипт рассчитывает 4-периодный RSI для заданного набора цен закрытия и генерирует сигналы покупки и продажи на основе пороговых значений RSI (ниже 30 для покупки и выше 70 для продажи).

## Заключение
4-периодный RSI — это мощный инструмент в арсенале технических аналитиков и алгоритмических трейдеров. Его чувствительность к ценовым движениям делает его особенно полезным для идентификации краткосрочных условий перекупленности и перепроданности. Однако его повышенная волатильность иногда может производить ложные сигналы, поэтому его часто лучше всего использовать в сочетании с другими индикаторами и методами анализа. Используется ли он в ручной торговле или алгоритмических стратегиях, понимание и эффективное использование 4-периодного RSI может быть значительным преимуществом в навигации по сложному миру финансовых рынков.
